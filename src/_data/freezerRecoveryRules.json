{
  "items": [
    {
      "rule_id": "category_cooked_recovery_fully",
      "applies_to": "category:cooked_foods",
      "thaw_state": "fully_thawed",
      "scope": {
        "type": "category",
        "key": "cooked_foods",
        "category": "cooked_foods"
      },
      "priority": 2,
      "temp_threshold_f": 40,
      "max_safe_minutes": 45,
      "notes": "Cooked leftovers should be treated conservatively"
    },
    {
      "rule_id": "category_dairy_recovery_fully",
      "applies_to": "category:dairy",
      "thaw_state": "fully_thawed",
      "scope": {
        "type": "category",
        "key": "dairy",
        "category": "dairy"
      },
      "priority": 2,
      "temp_threshold_f": 40,
      "max_safe_minutes": 45,
      "notes": "Dairy is high risk once fully thawed and warm"
    },
    {
      "rule_id": "category_protein_recovery_fully",
      "applies_to": "category:protein",
      "thaw_state": "fully_thawed",
      "scope": {
        "type": "category",
        "key": "protein",
        "category": "protein"
      },
      "priority": 2,
      "temp_threshold_f": 40,
      "max_safe_minutes": 45,
      "notes": "Raw proteins need strict refreeze thresholds"
    },
    {
      "rule_id": "category_seafood_recovery_fully",
      "applies_to": "category:seafood",
      "thaw_state": "fully_thawed",
      "scope": {
        "type": "category",
        "key": "seafood",
        "category": "seafood"
      },
      "priority": 2,
      "temp_threshold_f": 40,
      "max_safe_minutes": 30,
      "notes": "Seafood is highly perishable when fully thawed"
    },
    {
      "rule_id": "default_freezer_recovery_any",
      "applies_to": "default",
      "thaw_state": "any",
      "scope": {
        "type": "default",
        "key": "default"
      },
      "priority": 1,
      "temp_threshold_f": 40,
      "max_safe_minutes": 120,
      "notes": "Conservative fallback when no specific rule exists"
    },
    {
      "rule_id": "default_freezer_recovery_fully",
      "applies_to": "default",
      "thaw_state": "fully_thawed",
      "scope": {
        "type": "default",
        "key": "default"
      },
      "priority": 1,
      "temp_threshold_f": 40,
      "max_safe_minutes": 60,
      "notes": "Fully thawed foods should be handled with stricter limits"
    },
    {
      "rule_id": "default_freezer_recovery_partial",
      "applies_to": "default",
      "thaw_state": "partially_thawed",
      "scope": {
        "type": "default",
        "key": "default"
      },
      "priority": 1,
      "temp_threshold_f": 40,
      "max_safe_minutes": 180,
      "notes": "Partially thawed foods may have a longer window when still cold"
    },
    {
      "rule_id": "food_milk_whole_recovery_fully",
      "applies_to": "food:milk_whole",
      "thaw_state": "fully_thawed",
      "scope": {
        "type": "food",
        "key": "milk_whole",
        "food_id": "milk_whole"
      },
      "priority": 3,
      "temp_threshold_f": 40,
      "max_safe_minutes": 30,
      "notes": "Milk above threshold should be discarded quickly"
    }
  ],
  "byId": {
    "category_cooked_recovery_fully": {
      "rule_id": "category_cooked_recovery_fully",
      "applies_to": "category:cooked_foods",
      "thaw_state": "fully_thawed",
      "scope": {
        "type": "category",
        "key": "cooked_foods",
        "category": "cooked_foods"
      },
      "priority": 2,
      "temp_threshold_f": 40,
      "max_safe_minutes": 45,
      "notes": "Cooked leftovers should be treated conservatively"
    },
    "category_dairy_recovery_fully": {
      "rule_id": "category_dairy_recovery_fully",
      "applies_to": "category:dairy",
      "thaw_state": "fully_thawed",
      "scope": {
        "type": "category",
        "key": "dairy",
        "category": "dairy"
      },
      "priority": 2,
      "temp_threshold_f": 40,
      "max_safe_minutes": 45,
      "notes": "Dairy is high risk once fully thawed and warm"
    },
    "category_protein_recovery_fully": {
      "rule_id": "category_protein_recovery_fully",
      "applies_to": "category:protein",
      "thaw_state": "fully_thawed",
      "scope": {
        "type": "category",
        "key": "protein",
        "category": "protein"
      },
      "priority": 2,
      "temp_threshold_f": 40,
      "max_safe_minutes": 45,
      "notes": "Raw proteins need strict refreeze thresholds"
    },
    "category_seafood_recovery_fully": {
      "rule_id": "category_seafood_recovery_fully",
      "applies_to": "category:seafood",
      "thaw_state": "fully_thawed",
      "scope": {
        "type": "category",
        "key": "seafood",
        "category": "seafood"
      },
      "priority": 2,
      "temp_threshold_f": 40,
      "max_safe_minutes": 30,
      "notes": "Seafood is highly perishable when fully thawed"
    },
    "default_freezer_recovery_any": {
      "rule_id": "default_freezer_recovery_any",
      "applies_to": "default",
      "thaw_state": "any",
      "scope": {
        "type": "default",
        "key": "default"
      },
      "priority": 1,
      "temp_threshold_f": 40,
      "max_safe_minutes": 120,
      "notes": "Conservative fallback when no specific rule exists"
    },
    "default_freezer_recovery_fully": {
      "rule_id": "default_freezer_recovery_fully",
      "applies_to": "default",
      "thaw_state": "fully_thawed",
      "scope": {
        "type": "default",
        "key": "default"
      },
      "priority": 1,
      "temp_threshold_f": 40,
      "max_safe_minutes": 60,
      "notes": "Fully thawed foods should be handled with stricter limits"
    },
    "default_freezer_recovery_partial": {
      "rule_id": "default_freezer_recovery_partial",
      "applies_to": "default",
      "thaw_state": "partially_thawed",
      "scope": {
        "type": "default",
        "key": "default"
      },
      "priority": 1,
      "temp_threshold_f": 40,
      "max_safe_minutes": 180,
      "notes": "Partially thawed foods may have a longer window when still cold"
    },
    "food_milk_whole_recovery_fully": {
      "rule_id": "food_milk_whole_recovery_fully",
      "applies_to": "food:milk_whole",
      "thaw_state": "fully_thawed",
      "scope": {
        "type": "food",
        "key": "milk_whole",
        "food_id": "milk_whole"
      },
      "priority": 3,
      "temp_threshold_f": 40,
      "max_safe_minutes": 30,
      "notes": "Milk above threshold should be discarded quickly"
    }
  },
  "byScopeAndState": {
    "category:cooked_foods::fully_thawed": {
      "rule_id": "category_cooked_recovery_fully",
      "applies_to": "category:cooked_foods",
      "thaw_state": "fully_thawed",
      "scope": {
        "type": "category",
        "key": "cooked_foods",
        "category": "cooked_foods"
      },
      "priority": 2,
      "temp_threshold_f": 40,
      "max_safe_minutes": 45,
      "notes": "Cooked leftovers should be treated conservatively"
    },
    "category:dairy::fully_thawed": {
      "rule_id": "category_dairy_recovery_fully",
      "applies_to": "category:dairy",
      "thaw_state": "fully_thawed",
      "scope": {
        "type": "category",
        "key": "dairy",
        "category": "dairy"
      },
      "priority": 2,
      "temp_threshold_f": 40,
      "max_safe_minutes": 45,
      "notes": "Dairy is high risk once fully thawed and warm"
    },
    "category:protein::fully_thawed": {
      "rule_id": "category_protein_recovery_fully",
      "applies_to": "category:protein",
      "thaw_state": "fully_thawed",
      "scope": {
        "type": "category",
        "key": "protein",
        "category": "protein"
      },
      "priority": 2,
      "temp_threshold_f": 40,
      "max_safe_minutes": 45,
      "notes": "Raw proteins need strict refreeze thresholds"
    },
    "category:seafood::fully_thawed": {
      "rule_id": "category_seafood_recovery_fully",
      "applies_to": "category:seafood",
      "thaw_state": "fully_thawed",
      "scope": {
        "type": "category",
        "key": "seafood",
        "category": "seafood"
      },
      "priority": 2,
      "temp_threshold_f": 40,
      "max_safe_minutes": 30,
      "notes": "Seafood is highly perishable when fully thawed"
    },
    "default::any": {
      "rule_id": "default_freezer_recovery_any",
      "applies_to": "default",
      "thaw_state": "any",
      "scope": {
        "type": "default",
        "key": "default"
      },
      "priority": 1,
      "temp_threshold_f": 40,
      "max_safe_minutes": 120,
      "notes": "Conservative fallback when no specific rule exists"
    },
    "default::fully_thawed": {
      "rule_id": "default_freezer_recovery_fully",
      "applies_to": "default",
      "thaw_state": "fully_thawed",
      "scope": {
        "type": "default",
        "key": "default"
      },
      "priority": 1,
      "temp_threshold_f": 40,
      "max_safe_minutes": 60,
      "notes": "Fully thawed foods should be handled with stricter limits"
    },
    "default::partially_thawed": {
      "rule_id": "default_freezer_recovery_partial",
      "applies_to": "default",
      "thaw_state": "partially_thawed",
      "scope": {
        "type": "default",
        "key": "default"
      },
      "priority": 1,
      "temp_threshold_f": 40,
      "max_safe_minutes": 180,
      "notes": "Partially thawed foods may have a longer window when still cold"
    },
    "food:milk_whole::fully_thawed": {
      "rule_id": "food_milk_whole_recovery_fully",
      "applies_to": "food:milk_whole",
      "thaw_state": "fully_thawed",
      "scope": {
        "type": "food",
        "key": "milk_whole",
        "food_id": "milk_whole"
      },
      "priority": 3,
      "temp_threshold_f": 40,
      "max_safe_minutes": 30,
      "notes": "Milk above threshold should be discarded quickly"
    }
  },
  "matchingPriority": [
    "food",
    "category",
    "default"
  ],
  "thawStates": [
    "partially_thawed",
    "fully_thawed",
    "any"
  ]
}
