<!doctype html>
<html lang="en" data-theme="dark">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{{ title or "Cheffist" }}</title>
    {% set canonicalPath = canonical or page.url %}
    {% if canonicalPath %}
    {% if canonicalPath.slice(0, 4) == "http" %}
    <link rel="canonical" href="{{ canonicalPath }}" />
    {% else %}
    <link rel="canonical" href="{{ site.url }}{{ canonicalPath }}" />
    {% endif %}
    {% endif %}
    {% if jsonLd %}
    <script type="application/ld+json">{{ jsonLd | safe }}</script>
    {% endif %}
    {% if noindex %}
    <meta name="robots" content="noindex,follow" />
    {% endif %}
    <link rel="stylesheet" href="/assets/styles.css" />
    <script src="/assets/js/email-capture.js" defer></script>
  </head>
  <body class="min-h-screen bg-surface text-text">
    <header class="sticky top-0 z-50 border-b border-white/10 bg-white/5 backdrop-blur-lg">
      <div class="mx-auto flex w-full max-w-6xl items-center justify-between gap-3 px-4 py-3 sm:px-6 lg:px-8">
        <a href="/" class="flex items-center gap-2 text-sm font-semibold tracking-wide text-text no-underline transition duration-150 ease-out hover:-translate-y-0.5 motion-reduce:transition-none motion-reduce:transform-none">
          <span class="inline-flex h-8 w-8 items-center justify-center rounded-lg border border-border bg-surfaceElevated">C</span>
          <span>Cheffist</span>
        </a>

        <nav class="hidden items-center gap-6 text-sm md:flex" aria-label="Primary">
          <a href="/sources/" class="text-muted no-underline transition duration-150 ease-out hover:-translate-y-0.5 hover:text-text motion-reduce:transition-none motion-reduce:transform-none">Food Storage</a>
          <a href="/food-left-out-calculator/" class="text-muted no-underline transition duration-150 ease-out hover:-translate-y-0.5 hover:text-text motion-reduce:transition-none motion-reduce:transform-none">Sit-Out Risk</a>
          <a href="/power-outage-calculator/" class="text-muted no-underline transition duration-150 ease-out hover:-translate-y-0.5 hover:text-text motion-reduce:transition-none motion-reduce:transform-none">Power Outage</a>
          <a href="/can-i-refreeze-this/" class="text-muted no-underline transition duration-150 ease-out hover:-translate-y-0.5 hover:text-text motion-reduce:transition-none motion-reduce:transform-none">Freezer Recovery</a>
        </nav>

        <a
          href="/food-safety-updates/"
          class="hidden rounded-lg border border-accent bg-accent px-4 py-2 text-sm font-semibold text-accentContrast no-underline transition duration-150 ease-out hover:-translate-y-0.5 hover:opacity-90 motion-reduce:transition-none motion-reduce:transform-none md:inline-flex"
        >
          Get Safety Updates
        </a>

        <details class="md:hidden">
          <summary class="cursor-pointer list-none rounded-md border border-border bg-surfaceElevated px-3 py-2 text-sm text-text transition duration-150 ease-out hover:-translate-y-0.5 motion-reduce:transition-none motion-reduce:transform-none">
            Menu
          </summary>
          <nav class="mt-2 w-56 rounded-lg border border-border bg-surfaceElevated p-3 shadow-xl" aria-label="Mobile primary">
            <ul class="space-y-2 text-sm">
              <li><a href="/sources/" class="text-muted no-underline transition duration-150 ease-out hover:text-text motion-reduce:transition-none">Food Storage</a></li>
              <li><a href="/food-left-out-calculator/" class="text-muted no-underline transition duration-150 ease-out hover:text-text motion-reduce:transition-none">Sit-Out Risk</a></li>
              <li><a href="/power-outage-calculator/" class="text-muted no-underline transition duration-150 ease-out hover:text-text motion-reduce:transition-none">Power Outage</a></li>
              <li><a href="/can-i-refreeze-this/" class="text-muted no-underline transition duration-150 ease-out hover:text-text motion-reduce:transition-none">Freezer Recovery</a></li>
              <li><a href="/food-safety-updates/" class="text-accent no-underline transition duration-150 ease-out hover:opacity-90 motion-reduce:transition-none">Get Safety Updates</a></li>
            </ul>
          </nav>
        </details>
      </div>
    </header>

    {% set contentMaxWidth = layoutContentWidth or "max-w-6xl" %}
    <main class="mx-auto w-full {{ contentMaxWidth }} px-4 py-8 sm:px-6 lg:px-8">
      {{ content | safe }}
    </main>

    <footer class="border-t border-border/70 bg-surfaceElevated/60">
      <div class="mx-auto w-full max-w-6xl px-4 py-6 sm:px-6 lg:px-8">
        <div class="flex flex-wrap items-center gap-3 text-sm text-muted">
          <a href="/disclaimer/" class="no-underline transition duration-150 ease-out hover:text-text motion-reduce:transition-none">Disclaimer</a>
          <a href="/methodology/" class="no-underline transition duration-150 ease-out hover:text-text motion-reduce:transition-none">Methodology</a>
          <a href="/sources/" class="no-underline transition duration-150 ease-out hover:text-text motion-reduce:transition-none">Sources</a>
          <a href="/privacy-policy/" class="no-underline transition duration-150 ease-out hover:text-text motion-reduce:transition-none">Privacy</a>
        </div>
        <div class="mt-3 border-t border-border/60 pt-3 text-xs text-muted">
          Dataset version: {{ dataset.version or "n/a" }} | Last updated: {{ dataset.last_updated or "n/a" }}
        </div>
      </div>
    </footer>
  </body>
</html>
